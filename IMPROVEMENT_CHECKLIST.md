# 동네 심부름 앱 수정·보완 체크리스트

프로젝트: `dongnae-errand`
작성일: 2026-02-16
용도: 작업을 하나씩 안정적으로 진행하기 위한 체크리스트

---

## A. 개발자 관점 (DEV)

### DEV-1. Prisma User/Verification 관계 정리 [쉬움]
- User 모델에 `verificationRequests` 관계 명시
- `phone`, `verifiedAt`, `trustScore`, `status` 필드 반영
- 마이그레이션/생성 실행

완료 기준
- [ ] `npx prisma generate` 성공
- [ ] `npm run build` 성공

### DEV-2. 인증 체계 단일화 [보통]
- 현재 커스텀 세션과 향후 Auth.js(NextAuth) 중 하나로 표준화
- 역할(`requester/helper/admin`) 정책 문서화

완료 기준
- [ ] 보호 API에서 권한 우회 불가
- [ ] 세션 만료/로그아웃 동작 확인

### DEV-3. Rate Limiting 적용 [쉬움]
- 인증코드 발급, 로그인 시도, 의뢰 등록 API 제한
- 초과 시 429 + 사용자 친화 메시지

완료 기준
- [ ] 반복 호출 시 429 확인

### DEV-4. 결제 어댑터 실연동 [보통]
- 현재 mock/live 구조에 실제 PG 요청 로직 연결
- 토스 우선, 카카오/네이버 순차 연동

완료 기준
- [ ] 테스트 키 기준 결제 준비/확정 성공
- [ ] 실패 시 에러 로그/상태 반영

### DEV-5. 핵심 테스트 확장 [보통]
- 상태 전이 / 정산 계산 / 권한 / 만료 / 결제 실패 시나리오

완료 기준
- [ ] `npm run test` 전체 통과

---

## B. 소비자 관점 (UX)

### UX-1. 로그인/온보딩 개선 [보통]
- 로그인 후 역할 선택/변경 UX 개선
- 비로그인 사용자의 제한 액션 명확 안내

### UX-2. 결제 상태 안내 개선 [쉬움]
- 결제 단계(대기/준비/완료/실패)를 카드 UI로 명확히 표시

### UX-3. 완료 증빙 업로드 [보통]
- 수행자 증빙 이미지 업로드 + 의뢰자 승인/이의제기

### UX-4. 리뷰/평점 [쉬움]
- 완료 후 상호 리뷰 + 신뢰점수 반영

### UX-5. 검색/필터 고도화 [쉬움]
- 카테고리/보상금/상태/동네 조건 복합 필터

### UX-6. 실시간 채팅 [어려움]
- 매칭 후 1:1 채팅 + 읽음 상태

### UX-7. 모바일/PWA 최적화 [보통]
- 하단 탭 네비게이션 + 홈화면 추가 + 오프라인 최소 대응

---

## C. 권장 작업 순서
1) DEV-1
2) DEV-3
3) DEV-5
4) DEV-4
5) UX-2
6) UX-3
7) UX-4
8) UX-6
9) UX-7

---

## D. 작업 요청 예시
- "IMPROVEMENT_CHECKLIST.md의 DEV-1만 진행해줘. 완료 기준까지 검증해줘."
- "UX-3 진행 후 스크린샷 첨부해서 보여줘."
